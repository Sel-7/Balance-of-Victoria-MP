namespace = coffe_and_milk


coffe_and_milk.1 = {
	type = country_event
	placement = ROOT

	title = coffe_and_milk.1.t
	desc = coffe_and_milk.1.d
	flavor = coffe_and_milk.1.f

	event_image = {
	 	video = "gfx/event_pictures/europenorthamerica_capitalists_meeting.bk2"
	}


	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	#on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/factory_opening"



	icon = "gfx/interface/icons/event_icons/event_trade.dds"

	duration = 3

	trigger = {
		c:BRZ = ROOT
		in_election_campaign = yes
		OR = {
			has_law =law_type:law_presidential_republic
			has_law =law_type:law_parliamentary_republic
			}
		NOT = { has_variable = election_event_cooldown }
		NOT = { has_modifier = br_political_favor}
		
	}

	immediate = {
		set_variable = {
			name = election_event_cooldown
			months = 12
				}
		random_interest_group = { #cheking for angry IG till next election
		limit = {
				is_powerful = no
				NOT = {	is_marginal = yes}
				}
			save_scope_as = angry_left_out_ig
			
			}
		random_interest_group = { #checkfor 1st IG group to favor
		limit = {
				is_powerful = yes
			}
			save_scope_as = coronel_leading_ig_1
	
			}
		random_interest_group = { #checkfor 2nd possible IG group to favor
		limit = {
			is_powerful = yes
			}
			save_scope_as = coronel_leading_ig_2

			}

		
	}

	option = {
		custom_tooltip = coffe_and_milk.1.tt1
		default_option = yes

		name = coffe_and_milk.1.a #we shall export coffee, favor Minas
		add_journal_entry = {
			type = je_coffee_export
			target = scope:coronel_leading_ig_1
			}
		
		scope:angry_left_out_ig = {
				add_modifier = {
				name = ig_left_out
				months = 49
				}
			}

		
		}
	

	option = {	#we shall export meat, favor SP
		custom_tooltip = coffe_and_milk.1.tt2
	 	name = coffe_and_milk.1.b
	 	
		 add_journal_entry = {
			type = je_meat_export
			target = scope:coronel_leading_ig_2
		}
		scope:angry_left_out_ig = {
			add_modifier = {
			name = ig_left_out
			months = 49
			}
		}
	 }
	 
}

